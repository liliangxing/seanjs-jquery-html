<!DOCTYPE html>
<!-- saved from url=(0169)http://qr66387.fx.sj.360.cn/qing/softDU?sid=&apk=http%3A%2F%2Fwww.time24.cn%2Fkezhu.apk&name=&logo=&size=2017799&ref=seapk&sign=5f3b291bf8f07e0d470fd01333bbb74b&v=140121 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>安全下载</title>
    <style type="text/css">
        body,dl,dd,h1,h2,h3,h4,h5,h6,p,form,input,span {margin: 0; padding: 0 } ul,ol {margin: 0; padding: 0 } table,td,th {border-collapse: collapse } ol,ul,li {list-style: none } h1,h2,h3,h4 {font-size: 100% } img,input,textarea {vertical-align: middle; border: 0 } a {text-decoration: none; outline: 0; -webkit-tap-highlight-color: rgba(0,0,0,0) } a:hover {text-decoration: none }

        body {font-size: 14px; background: #ededed; padding: 10px; padding-top: 0;color: #757575; }

        header, section,aside, footer,article {display: block;}

        .box {
            display: none;position: relative;
            margin:0 auto;margin-top: 20px;padding:20px 0;padding-bottom: 0;
            text-align: center;
            border:1px solid #dbdbdb;background: #fff;border-radius: 4px;
        }
        .app-title {margin-top: 10px;}
        .app-logo { width: 8rem;}
        .btns {
            margin-top: 20px;
            padding-bottom:10px;
            text-align: center;
        }

        .btns a {
            display: block;
            border-radius: 10px;
            width: 230px;
            margin: 0 auto;
            height: 34px;
            line-height: 34px;
            font-size: 13px;
        }
        .btns .btn1 {
            background: #fff;
            color: #a7a8aa;
            border: 1px solid #dadada;
            border: none;
            height: 34px;
            line-height: 34px;
            margin-top: 5px;
        }

        .btn1:visited{color: #a7a8aa;}

        .btn2 {
            background: #42c44a;
            color: #fff;
            border: 1px solid #63a567;
            margin-bottom: 5px;
            background-image: url(http://p8.qhimg.com/t0157bf11d87e6a36f8.png);
            background-repeat: no-repeat;
            background-size: 25px 25px;
            background-position: 30% center;
        }

        .wxtip {
            display:none;
            background: #A7A3A3;
            border-radius: 4px;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
            font-size: 12px;
            line-height: 20px;
            padding: 8px 10px;
            padding-left: 36px;
            text-align: left;
            color: #FFF;
        }
        .wxtip .first-letter{
            margin-left: -24px;
        }

        .wxtip img {
            width: 25px;
            border-radius: 4px;
            margin: 0 4px;
        }

        #installTip {
            position: absolute;display: none;
            padding: 20px;
            top: 0;
            text-align: left;
            width: 100%;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
<div class="page">
    <div class="box" id="appBox" style="display: block;">
        <div id="downAarea">
            <div class="app">
                <img class="app-logo" id="appLogo" src="./images/app1.jpg" alt="">
                <p class="app-title" id="appName">kezhu.apk</p>
            </div>
            <div class="btns">
                <a href="http://openbox.mobilem.360.cn/channel/getUrl?src=110008&amp;app=zs" class="btn2 wx-down" style="display: none;" id="qihuAppStore">安全下载</a>
                <a href="http://www.time24.cn/kezhu.apk" class="btn2 wx-down" id="apk">普通下载</a>
                <div style="font-size: 12px;margin: 10px 30px;">若提示“外部来源应用，未经安全性检测，请谨慎安装...”，点继续安装
                </div>
            </div>

            <div class="app">
                <img class="app-logo"  src="./images/app2.jpg" alt="">
                <p class="app-title" >kezhufanyin.apk</p>
            </div>
            <div class="btns">
                <a href="http://www.time24.cn/kezhufanyin.apk" class="btn2 wx-down">普通下载</a>
                <div style="font-size: 12px;margin: 10px 30px;">若提示“外部来源应用，未经安全性检测，请谨慎安装...”，点继续安装
                </div>
            </div>

            <div class="app">
                <img class="app-logo"  src="./images/app3.jpg" alt="">
                <p class="app-title" >note.apk</p>
            </div>
            <div class="btns">
                <a href="http://www.time24.cn/note.apk" class="btn2 wx-down">普通下载</a>
                <div style="font-size: 12px;margin: 10px 30px;">若提示“外部来源应用，未经安全性检测，请谨慎安装...”，点继续安装
                </div>
            </div>
            <div class="app">
                <img class="app-logo"  src="./images/app4.jpg" alt="">
                <p class="app-title" >mobao.apk</p>
            </div>
            <div class="btns">
                <a href="http://www.time24.cn/mobao.apk" class="btn2 wx-down">普通下载</a>
                </div>
            </div>
            <div class="app">
                <img class="app-logo"  src="./images/app5.jpg" alt="">
                <p class="app-title" >dygj.apk</p>
            </div>
            <div class="btns">
                <a href="http://www.time24.cn/dygj.apk" class="btn2 wx-down">普通下载</a>
                <div style="font-size: 12px;margin: 10px 30px;">若提示“外部来源应用，未经安全性检测，请谨慎安装...”，点继续安装
                </div>
            </div>
            <p class="app-title">截图发送给朋友，长按二维码下载</p>
            <img src="./images/cli_500px.png"  width="50%"/>
        </div>
        <div id="installTip">
            您已开始下载360手机助手。<br><br>安装完成后，打开360手机助手会自动下载<span id="appName2">kezhu.apk</span>。<br><br>如果未自动下载，请您刷新一下本页面或者重新扫描一遍二维码。

            <p class="btns"><a href="http://qr66387.fx.sj.360.cn/qing/softDU?sid=&amp;apk=http%3A%2F%2Fwww.time24.cn%2Fkezhu.apk&amp;name=&amp;logo=&amp;size=2017799&amp;ref=seapk&amp;sign=5f3b291bf8f07e0d470fd01333bbb74b&amp;v=140121#nogo" class="btn1">我知道了</a></p>
        </div>

        <p class="wxtip" id="weixintiper"><span class="first-letter">注：</span>微信用户如果点击下载按钮无反应，请点击右上角<img src="./images/t01206443e563c464f9.png" alt="">按钮，然后选择在浏览器中打开。</p>
    </div>
</div>

<div style="visibility:hidden;">
    <div id="spirit"><img src="http://127.0.0.1:38517/logo.png?t=1581732395919"></div><div id="heart"></div><div id="logger"><img src="./images/soft.html" style="visibility: hidden;"></div>
</div>

<script>

    (function(){
        var validateApk = 'http://www.time24.cn/kezhu.apk';

        var Util = {
            $ : function(id) {
                return document.getElementById(id);
            },

            $$ : function(tagName, parent) {
                return (parent || document).getElementsByTagName(tagName);
            },

            param : function(data) {
                var str = [];

                for (var key in data) {
                    str.push(key + '=' + encodeURIComponent(data[key] || ''));
                }

                return str.join('&');
            },

            getParam : function (name) {
                // 解析参数
                if (!this.paramObject) {
                    var search = window.location.search.substr(1);
                    var ps = search.split('&');

                    var param = this.paramObject = {};
                    for (var i = 0, len = ps.length; i < len; i++) {
                        var kv = ps[i].split('=');
                        var key = kv[0];
                        var value = decodeURIComponent(kv[1] || '');

                        if (param[key]) {
                            param[key] = [value].concat(param[key]);
                        } else {
                            param[key] = value;
                        }
                    }
                }

                return this.paramObject[name];
            },

            getMID : function() {
                return this.cookie('guid') || this.generateMID();
            },

            generateMID : function() {
                var guid = "", n;
                for (var i = 1; i <= 32; i++){
                    n = Math.floor(Math.random()*16.0).toString(16);
                    guid += n;
                }

                this.cookie('guid', guid, { expires: 777 });

                return (this.guid = guid);
            },

            extend : function(target, source) {
                for (var i in source) {
                    target[i] = source[i];
                }

                return target;
            },

            cookie : function (key, value, options) {
                var days, time, result, decode

                // A key and value were given. Set cookie.
                if (arguments.length > 1 && String(value) !== "[object Object]") {
                    // Enforce object
                    options = this.extend({}, options)

                    if (value === null || value === undefined) options.expires = -1

                    if (typeof options.expires === 'number') {
                        days = (options.expires * 24 * 60 * 60 * 1000)
                        time = options.expires = new Date()

                        time.setTime(time.getTime() + days)
                    }

                    value = String(value)

                    return (document.cookie = [
                        encodeURIComponent(key), '=',
                        options.raw ? value : encodeURIComponent(value),
                        options.expires ? '; expires=' + options.expires.toUTCString() : '',
                        options.path ? '; path=' + options.path : '',
                        options.domain ? '; domain=' + options.domain : '',
                        options.secure ? '; secure' : ''
                    ].join(''))
                }

                // Key and possibly options given, get cookie
                options = value || {}

                decode = options.raw ? function (s) { return s } : decodeURIComponent

                return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? decode(result[1]) : null
            },

            encode4Html: function(s) {
                var el = document.createElement('pre');
                var text = document.createTextNode(s);
                el.appendChild(text);
                return el.innerHTML;
            },

            encode4HtmlValue: function(s) {
                return this.encode4Html(s).replace(/"/g, "&quot;").replace(/'/g, "&#039;");
            }
        };
        // 20160317 添加读取url地址参数ref=seapk 则修改下载助手包的地址
        if (Util.getParam('ref') == 'seapk') {
            Util.$('qihuAppStore').setAttribute('href', 'http://openbox.mobilem.360.cn/channel/getUrl?src=110008&app=zs');
        }

        var Logger = {
            getLogger : function() {
                if (!this.logger) {
                    var logger = this.logger = document.createElement('img');
                    logger.style.visibility = 'hidden';
                    logger.src = 'http://p1.qhimg.com/d/inn/1e3715bc/empty.gif';
                    Util.$('logger').appendChild(logger);
                }
                return this.logger;
            },

            getLogStr : function(act, pos) {
                var href = 'http://s.360.cn/zhushou/soft.html';
                var u = location.protocol + '//' + location.hostname + location.pathname;
                var from = Util.getParam('ref');
                var mid = Util.getMID();

                return href + '?' + Util.param({
                    u : u,
                    mid : mid,
                    act : act,
                    pos : pos,
                    refer : from,

                    ver : '',cid : '', sid : '',market_id : '',tj : '', _ : (new Date).getTime()
                });
            },

            send : function(pos, act) {
                act = act || 'browse';
                this._send(this.getLogStr(act, pos));
            },

            _send : function(href) {
                var logger = this.getLogger();

                logger.src = href;
            }
        };


        function Spirit() {
            this.onload = function(){};
            this.onerror = function(){};
        }

        Spirit.prototype = {
            createImage : function () {
                return document.createElement('img');
            },

            load : function(url) {
                var img = this.createImage();

                img.onload = this.onload;
                img.onerror = this.onerror;

                Util.$('spirit').innerHTML = '';
                Util.$('spirit').appendChild(img);
                img.src = url;
            }
        };

        var Client = {

            getSpirit : function () {
                return new Spirit();
            },

            /**
             * 检测客户端是否存在
             *
             */
            detect : function(installedCallback, failedCallback) {
                var spirit = this.getSpirit();
                spirit.onload = installedCallback;
                spirit.onerror = failedCallback;

                spirit.load('http://127.0.0.1:38517/logo.png?t=' + (new Date).getTime());
            },

            _install : function(query){
                var spirit = this.getSpirit();

                spirit.load('http://127.0.0.1:38517/in?' + query);
            },


            install : function(data) {
                this._install(Util.param(data));
            }
        };


        var QuickInstaller = {
            // 安全下载
            safeDownload : function(data) {
                Client.detect(function(){
                    Client.install(data);
                    Logger.send('blank_success');
                }, function(){
                    //Logger.send('wap');

                    setTimeout(function(){
                        window.location.href = 'http://m.app.so.com/detail/index?' + Util.param({
                            from : 'qrcodedownload',
                            id : data.sid,
                            ref : Util.getParam('ref'),
                            sign : Util.getParam('sign')
                        });
                    },100);
                });
            },

            // 直接下载
            directDownload : function (data) {
                var me = this;

                Client.detect(function(){
                    me.showDownloadPage(data);
                    Logger.send('blank');

                    /*
                    Client.install(data);
                    Logger.send('blank_success');
                    */
                }, function(){
                    me.showDownloadPage(data);
                    Logger.send('blank');
                });
            },

            // 显示下载页面
            showDownloadPage : function(data) {
                //alert('safeDownload page');
                if (data.logo) {
                    Util.$('appLogo').src = data.logo;
                }

                if (data.name) {
                    Util.$('appName').innerHTML = Util.encode4Html(data.name);
                    Util.$('appName2').innerHTML = Util.encode4Html(data.name);
                }

                if (data.url) {
                    Util.$('apk').href = Util.encode4HtmlValue(data.url);
                }

                Util.$('appBox').style.display = 'block';

                Util.$('apk').addEventListener('touchstart', function(){
                    Logger.send('blank_zjxz');
                }, false);
            },

            init : function() {
                var data = this.getData();

                if (data.sid > 0) {
                    this.safeDownload(data);
                } else {
                    this.directDownload(data);
                }

                this.bindEvents();

                Logger.send('pv');
            },

            getNameFromUrl : function(url) {
                url = url || '';
                return url.substr(url.lastIndexOf('/')+1);
            },

            getData : function() {
                var data = {
                    // url : Util.getParam('apk'),
                    url : validateApk,
                    name : Util.getParam('name'),
                    logo : Util.getParam('logo'),
                    sign : Util.getParam('sign'),
                    sid : Util.getParam('sid'),
                    ref : Util.getParam('ref')
                };

                if (!data.name) {
                    data.name = this.getNameFromUrl(data.url);
                }

                return data;
            },

            bindEvents : function() {
                var me = this;
                var start = 0;
                var startedCheck = false;

                function checkInstalled() {
                    if (startedCheck) {
                        return;
                    }
                    startedCheck = true;

                    function check() {
                        Util.$('heart').innerHTML = start++;
                        Client.detect(function(){
                            Client.install(me.getData());
                        }, function () {
                            setTimeout(check, 500);
                        });
                    }
                    check();
                }

                var qihuAppStore = Util.$('qihuAppStore');
                qihuAppStore.addEventListener('mousedown', checkInstalled, false);
                qihuAppStore.addEventListener('touchend', checkInstalled, false);

                qihuAppStore.addEventListener('mousedown', function () {
                    Logger.send('blank_gsxz');
                    setTimeout(function(){
                        me.toggle();
                    }, 1000);
                }, false);

                Util.$('installTip').addEventListener('click', function(){
                    me.toggle();
                }, false);
            },

            toggle : function  () {
                if (!this._toggle) {
                    this._toggle = 1;
                }

                if (window.isWeixin) {
                    this._toggle = 2;
                }

                if (this._toggle % 2 == 1) {
                    Util.$('downAarea').style.visibility = 'hidden';
                    Util.$('installTip').style.display = 'block';
                } else {
                    Util.$('downAarea').style.visibility = 'visible';
                    Util.$('installTip').style.display = 'none';
                }

                this._toggle += 1;
            }
        };
        var ua = navigator.userAgent.toLowerCase();
        var wxVer = function () {
            var e = ua.match(/micromessenger\/(\d+\.\d+\.\d+)/) || ua.match(/micromessenger\/(\d+\.\d+)/);
            return e ? e[1] : ""
        }();
        var inWeixin = wxVer ? true: false;

        document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
            //WeixinJSBridge.call('hideToolbar');
            Util.$('weixintiper').style.display = 'block';
            window.isWeixin = true;
        });

        if (validateApk.length == 0) {
            Util.$('appBox').innerHTML = '<p style="padding:40px 0;">对不起，出错了!</p>';
            Util.$('appBox').style.display = 'block';
        } else {
            QuickInstaller.init();
        }

        function createWxTip() {
            var $wxTip = document.querySelector('#wxTip');
            if ($wxTip) {
                $wxTip.style.display = 'block';
            } else {
                document.body.insertAdjacentHTML('beforeend', '<div id="wxTip" style="position:fixed;z-index:10000;top:0;left:0;width:100%;height:100%;background: rgba(0,0,0,.5);"><img src="https://p4.ssl.qhmsg.com/t01c3a19446a5fdc1b1.png" style="width: 90%;height:auto;position: absolute; top: 0px; right: 10px; display: block;"></div>');
                $wxTip = document.querySelector('#wxTip');
                $wxTip.addEventListener('click', function(e){
                    $wxTip.style.display = 'none';
                })
            }
        }

        document.querySelector('.btn1').onclick = function(evt) {
            if (inWeixin) {
                evt.preventDefault();
                createWxTip();
            }
        }

    })();
</script>
<script type="text/javascript" src="./images/c29daae672555372.js"></script>
<script type="text/javascript" src="./images/445ca40a.js"></script>
<script type="text/javascript">
    monitor.setProject('mobilegame').setUrl('http://openbox.mobilem.360.cn/qing/liulanqi').getTrack().getClickAndKeydown();
</script>
</body></html>